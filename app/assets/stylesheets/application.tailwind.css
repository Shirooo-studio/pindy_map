@import "tailwindcss";

.search-panel {
  position: fixed;
  top: 0;
  right: 0;
  height: 100vh;
  background: #fff;
  overflow-y: auto;
  border-left: 1px solid #ccc;
  transition: transform 0.3s ease;
  width: 100vw;
  max-width: 420px;
}
.search-panel.hidden {
  transform: translateX(100%);
}
.search-panel.show {
  transform: translateX(0);
}

#results-list > li + li {
  border-top: 1px solid #e5e7eb;
}

/* タブ */
.pm-tabs {
  display: flex;
  border-bottom: 1px solid #e5e7eb;
}
.pm-tab {
  flex: 1 1 0;
  text-align: center;
  padding: 9px 0;
  cursor: pointer;
}
.pm-tab.active {
  font-weight: 600;
  border-bottom: 2px solid #111827;
}

/* アクションの区切り */
.pm-actions {
  display: flex;
  justify-content: space-around;
  padding: 10px 0;
}
.pm-actions > div {
  text-align: center;
  font-size: 12px;
}

/* ギャラリー */
.pm-gallery {
  display: grid;
  grid-template-columns: repeat(2,minmax(0,1fr));
  gap: 12px;
}
@media (min-width: 768px) {
  .pm-gallery{
    grid-template-columns: repeat(3,minmax(0,1fr));
  }
}
.pm-thumb {
  width: 100%;
  aspect-ratio: 1/1;
  object-fit: cover;
  border-radius: 8px;
  border: 1px solid #e5e7eb;
  background: #f3f4f6;
}

/* ポップアップ型 詳細カード */
.detail-popup {
  position: absolute;
  right: var(--gap, 16px);
  bottom: 8px;
  top: auto;
  width: min(400px, calc(100% - 2*var(--gap,16px)));
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 4px 16px rgba(0,0,0,0.2);
  overflow-y: auto;
  max-height: 70vh;
  transition: opacity .2s ease, transform .2s ease;
  z-index: 60;
}

/* 開閉アニメーション */
.detail-popup.hidden {
  opacity: 0;
  pointer-events: none;
  transform: translateY(20px);
}
.detail-popup.show {
  opacity: 1;
  pointer-events: auto;
  transform: translateY(0);
}

#results-list li.active { background-color: #f3f4f6; }
#results-list > li + li { border-top: 1px solid #e5e7eb; }

/* 検索パネルが開いているときの専用レイアウト */
body.panel-open .detail-popup {
  right: calc(var(--spw, 420px) + var(--gap, 16px));
  top: var(--detailTop, 72px);
  bottom: auto;
  width: min(400px, calc(100% - var(--spw,420px) - var(--gap,16px) - 24px));
  max-height: calc(100vh - var(--detailTop,72px) - 12px);
}

/* ===== Hero（画像）＋ 浮遊クローズボタン ===== */
.detail-hero {
  position: relative;
}
.detail-hero img,
.detail-hero .hero-ph {
  width: 100%;
  height: 220px;
  object-fit: cover;
  display: block;
  border-radius: 12px 12px 0 0;
  background: #f3f4f6;
}

/* 丸いボタン */
.pm-close {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 40px;
  height: 40px;
  border-radius: 9999px;
  background: #fff;
  border: 1px solid #e5e7eb;
  display: grid;
  place-items: center;
  box-shadow: 0 2px 10px rgba(0,0,0,.12);
  cursor: pointer;
}
.pm-close:hover { background: #f9fafb; }

/* xのアイコン（CSS描画でもSVGでもOK） */
.pm-close .x {
  position: relative;
  width: 18px;
  height: 18px;
}
.pm-close .x::before,
.pm-close .x::after {
  content: "";
  position: absolute;
  inset: 0;
  margin: auto;
  width: 2px;
  height: 18px;
  background: #111827;
  border-radius: 1px;
}
.pm-close .x::before { transform: rotate(45deg); }
.pm-close .x::after { transform: rotate(-45deg); }

/* パネルの中身の余白（画像の下から始まる） */
.detail-section {
  padding: 12px 14px 14px;
}
